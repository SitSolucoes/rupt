<div class="cadastro">
  <div class="container">
    <p> Dados pessoais </p>

    
    <a routerLink="../cadastro-escritor" *ngIf="form.get('id').value != 0 && !leitor.escritor"> 
        <div class="button"> Tornar-se escritor </div> 
    </a>
    
    <div class="area"> 
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="menu">
        <label> Nome </label>
        
        <input type="text" class="input" maxlength="60" name="nome" placeholder="Seu primeiro nome" formControlName="nome"
        [ngClass]="{'invalid': verificaValidTouched('nome')}"
        >

        <div class="error" *ngIf="verificaValidTouched('nome')">{{ mensagemErro('nome') }}</div>
      </div>
      <div class="menu marginless">

        <label> Nick </label> 
        
        <input type="text" class="input" maxlength="20" name="nick" placeholder="A sua marca na Rupt" formControlName="nick"
        [ngClass]="{'invalid': verificaValidTouched('nick') || nickInvalido}" (ngModelChange)="validaNick()" (blur)="validaNick()">

        <div class="error" *ngIf="verificaValidTouched('nick')">{{ mensagemErro('nick') }}</div>
        <div class="error" *ngIf="!verificaValidTouched('nick') && nickInvalido">Nick já cadastrado</div>
      </div>

      <div class="menu">

        <label> Nascimento </label> 
        
        <input type="text" class="input" maxlength="10" name="nascimento" placeholder="Qual sua idade" formControlName="nascimento"
        [ngClass]="{'invalid': verificaValidTouched('nascimento')}" mask="00/00/0000" (blur)='validaData()'>

        <div class="error" *ngIf="verificaValidTouched('nascimento')">{{ mensagemErro('nascimento') }}</div>
        <div class="error" *ngIf="!verificaValidTouched('nascimento') && dataInvalida">Data inválida</div>

      </div>
      <div class="menu marginless">

        <label> Email </label> 
        
        <input type="text" class="input" maxlength="30" name="email" placeholder="Insira seu email" formControlName="email"
        [ngClass]="{'invalid': verificaValidTouched('email') || emailInvalido}" (ngModelChange)="validaEmail()" (blur)="validaEmail()">

        <div class="error" *ngIf="verificaValidTouched('email')">{{ mensagemErro('email') }}</div>
        <div class="error" *ngIf="!verificaValidTouched('email') && emailInvalido">Email já cadastrado</div>
      </div>
      <div class="menu">
            <div class="row menu-radio">
                    <input name="sexo" type="radio" id="f" value="F" [checked]="form.get('sexo').value == 'F'"/>
                    <label for="f" (click)="selectSexo('F')">Feminino</label>
                    <input name="sexo" type="radio" id="m" value="M" [checked]="form.get('sexo').value == 'M'"/>
                    <label for="m" (click)="selectSexo('M')">Masculino</label>
                    <input name="sexo" type="radio" id="o" value="O" [checked]="form.get('sexo').value == 'O'"/>
                    <label for="o" (click)="selectSexo('O')">Outro</label>
            </div>
        </div>
        <div class="menu ">
            <label> Biografia 
                <font style='font-size: 12px' *ngIf="form.get('biografia').value">
                    ({{ 500 - form.get('biografia').value.length }})
                </font>
            </label>
            <textarea class="textarea" formControlName='biografia'></textarea>
        </div>

        <div class="menu marginless">
            <label> Foto de perfil </label>
            <input type="file" name="arquivo1" id="foto" class="input-img" style="margin-bottom:35px;"/>
            
            <label> Foto de capa </label>
            <input type="file" name="arquivo2" id="capa" class="input-img"/>
        </div>


      <div *ngIf="form.get('id').value == 0">
          <div class="menu">
              <label> Senha </label> 
              <input type="password" class="input" maxlength="20" name="senha" placeholder="Crie sua senha" formControlName="senha"
              [ngClass]="{'invalid': verificaValidTouched('senha')}">

              <div class="error" *ngIf="verificaValidTouched('senha')">{{ mensagemErro('senha') }}</div>
          </div>
          <div class="menu marginless">
              <label> Confirmar Senha </label> 
              <input type="password" class="input" maxlength="20" name="confirma_senha" placeholder="Confirme sua senha" formControlName="confirma_senha">

              <div class="error" *ngIf="form.get('confirma_senha').value != form.get('senha').value">Senhas não coincidem</div>
          </div>
      </div>
    
        <button type="submit" class="button" id="submit-contato">{{ textButton }}</button>
    </form>
      
    </div>
    
  </div>
  
</div>
