<!-- não apagar, é usado para a validação do tamanho da imagem -->
<img src='{{ url_img }}' id='imagem-hidden' style="display:none">
<!-- fim não apagar -->

<div id="modalExcluir" class="modal modal2 modal4"
     materialize="modal" [materializeParams]="[{dismissible: false}]"
     [materializeActions]="modalExcluir">
    <modal-excluir (closeModalExcluir)="closeModalExcluir($event)"
                   [id]='post.id' [leitor]='0' [op]='1'>
    </modal-excluir>
</div>
<div id="modalRascunho" class="modal modal2 modal7"
     materialize="modal" [materializeParams]="[{dismissible: false}]"
     [materializeActions]="modalRascunho">
     <modal-rascunho (closeModalRascunho)="closeModalRascunho($event)" [post]='post'></modal-rascunho>
</div>
    
<div class="publicacao">
    <form [formGroup]="formulario" (ngSubmit)="onSubmit()">
    <div class="container">
        <h3>Nova Publicação</h3>
        <div class="container_left">
            <input type="text" class="input input2" maxlength="150" formControlName='titulo' placeholder="Insira o título da sua notícia"
                [ngClass]="{'invalid': verificaValidTouched('titulo')}"
            > 
            <!--editor-->
            <quill-editor style="margin-top: 7%; text-align: left;" formControlName='conteudo'
                            [options]="editorOptions"
                            (blur)="onEditorBlured($event)"
                            (focus)="onEditorFocused($event)"
                            (ready)="onEditorCreated($event)"
                            (change)="onContentChanged($event)"
                            [ngClass]="{'invalid': verificaValidTouched('conteudo')}">
            </quill-editor> 
        </div>
        <div class="container_right">
            <div class=" right-container-input-group top">
                <select name="categoria" class="input" formControlName='categoria_id' [ngClass]="{'invalid': verificaValidTouched('categoria_id')}">
                    <option disabled value='' selected>Categoria</option>
                    <option *ngFor="let categoria of categorias" [value]='categoria.id'>{{ categoria.categoria }}</option>
                </select>
                <select name="regiao" class="input" formControlName="regiao_id">
                    <option disabled value='' selected>Região</option>
                </select>
            </div>
            <div class="right-container-imagem-destaque">
                <span>Imagem de Destaque</span>

                <div class="container-imagem" [ngStyle]="{'background-image': url_img_style}">
                    <div class="no_image" (click)="img.click()">
                        <i class="material-icons large" style="display: block">image</i> 
                        Clique para Adicionar...   
                        <br>Resolução (400 x 400 pixels)
                    </div>
                    <input type="file" #img id='imagem' style="display:none" (change)="imgShow($event)">
                </div>
                <div class="menu">
                    <div class="row menu-radio">
                        <input type="checkbox" class="filled-in" id='adulto' formControlName='adulto'/>
                        <label for="adulto">Imagem com conteudo inapropriado</label>
                    </div>
                </div>
            </div>
            <div class="right-container-buttons info">
                <button type="button" class="button background-orange" (click)="onSubmit()" [disabled]='loading'>
                    <i class="fa fa-spinner fa-pulse fa-3x fa-fw" *ngIf='loading'></i>    
                    Publicar
                </button>
            </div>
        </div>
    </div>

    <div id='error-alert'>
        <div class="error-alert" *ngIf='erro'> 
            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>
            {{ mensagemErro }}
        </div>
    </div>

    </form>
</div>
